<!DOCTYPE html>
<!--
A esta página tan sólo puede acceder el usuario si está logeado
-->
<ui:composition template="/WEB-INF/templates/plantilla_formulario.xhtml"  
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="title">Modificar Datos Usuario</ui:define>
    <ui:define name="another">
        <c:choose>
            <c:when test="#{!empty controlAutorizacion.usuario}">
                <div>
                    <h3 class ="col-md-10">Modificar Usuario: <h:outputText class ="text-right" value="#{ControlModificarUsuario.username}" /></h3>
                    <br/>
                </div>
                <div class="">
                    <h:form class="form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-xs-3">Email: </label>
                            <div class="col-xs-9">
                                <p:inputText value ="#{ControlModificarUsuario.email}" id="inputEmail"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-3">Contraseña: </label>
                            <div class="col-xs-9">
                                <p:password value ="#{ControlModificarUsuario.pass}" id="inputPassword" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-3">Confirmar Contraseña: </label>
                            <div class="col-xs-9">
                                <p:password value ="#{ControlModificarUsuario.pass2}" id="inputPassword2" match ="inputPassword"/>
                            </div>
                        </div>
                    </h:form>
                </div>
                <div>
                    <h:form class="form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-xs-3">Nombre: </label>
                            <div class="col-xs-9">
                                <p:inputText value ="#{ControlModificarUsuario.nombre}" id="inputName"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-3">Apellidos: </label>
                            <div class="col-xs-9">
                                <p:inputText value ="#{ControlModificarUsuario.apellidos}" id="inputApellidos"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-3">Teléfono: </label>
                            <div class="col-xs-9">
                                <p:inputText value ="#{ControlModificarUsuario.telefono}" id="inputTlf"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-3">Dirección: </label>
                            <div class="col-xs-9">
                                <p:inputText value ="#{ControlModificarUsuario.direccion}" id="inputDir"/>
                            </div>
                        </div>
                    </h:form>
                </div>
                <div>
                    <h:form class="form-horizontal">
                        <div class="form-group">
                            <label class="control-label col-xs-3">Tipo: </label>
                            <div class="col-xs-9">
                                <p:inputText value ="#{ControlModificarUsuario.tipo}" id="inputTipo"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-3">Especialización: </label>
                            <div class="col-xs-9">
                                <p:inputText value ="#{ControlModificarUsuario.especializacion}" id="inputEsp"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-3">Zona Cargo: </label>
                            <div class="col-xs-9">
                                <p:inputText value ="#{ControlModificarUsuario.zonaCargo}" id="inputZone"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-3">Disponibilidad: </label>
                            <div class="col-xs-9">
                                <p:selectBooleanCheckbox value ="#{ControlModificarUsuario.disponibilidad}" id="inputDisp"/>
                            </div>
                        </div>
                    </h:form>
                </div>
                <div class="col-md-3 barraconfirmacion"/>
                <h:form id="button_bar">
                    <div class="col-xs-4 col-md-2 text-center barraconfirmacion">
                        <h:commandButton action="#{ControlModificarUsuario.update()}" value="Confirmar" styleClass="btn-primary"/>
                    </div>
                    <div class="col-xs-4 col-md-2 text-center barraconfirmacion">
                        <h:commandButton action="#{controlAutorizacion.home()}" immediate="true" value="Cancelar" styleClass="btn-danger"/>
                    </div>
                    <div class="col-xs-4 col-md-2 text-center barraconfirmacion">
                        <h:commandButton action="#{controlAutorizacion.modUser()}" immediate="true" value="Limpiar" styleClass="btn-warning"/>
                    </div>
                </h:form>
            </c:when>
            <c:otherwise>
                <div>
                    <h4 style="color: #31b0d5">
                        Para modificar datos de su usuario, ha de estar logueado. Pulse <a href ="login.xhtml">aquí</a> para loguearse.
                    </h4>     
                </div>
            </c:otherwise>
        </c:choose>
    </ui:define>
</ui:composition>