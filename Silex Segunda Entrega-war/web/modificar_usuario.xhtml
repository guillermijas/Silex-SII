<!DOCTYPE html>
<!--
A esta página tan sólo puede acceder el usuario si está logeado
-->
<ui:composition template="/WEB-INF/templates/plantilla_formulario.xhtml" 
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="title">Modificar Datos Usuario</ui:define>



    <ui:define name="titulo-pestaña1">
        <h3>Login</h3>
    </ui:define>

    <ui:define name="titulo-pestaña2">
        <h3>Datos Usuario</h3>
    </ui:define>

    <ui:define name="titulo-pestaña3">
        <h3>Información profesional</h3>
    </ui:define>

    <ui:define name="campos-pestaña1">
        <div class="row">
            <div class="col-md-6">
                <h:outputText  value="Nombre de usuario: " />
            </div>
            <div class="col-md-6">
                <h:outputText id="username" value="#{controlAutorizacion.usernameEditado}" />
                <br/>
                <h:message for="username"/>
            </div>
            <div class="col-md-6">
                <h:outputText value="Email: " />
            </div>
            <div class="col-md-6">
                <p:inputText id = "email" value="#{controlAutorizacion.email}" required ="true" validatorMessage="Formato de email incorrecto">
                    <f:validateRegex pattern="[0-9a-zA-Z._-]+@[0-9a-zA-Z._-]+(\.[0-9a-zA-Z._-]+)+"/>
                </p:inputText>
                <br/>
                <h:message for="email"/>
            </div>
            <!-->
            <div class="col-md-6">
                <h:outputText value="Contraseña: " />
            </div>
            <div class="col-md-6">
                <p:password value ="#{controlAutorizacion.pass}" id="inputPassword" required="false" />
                <br/>
            </div>
            <div class="col-md-6">
                <h:outputText value="Repetir contraseña: " />
            </div>
            <div class="col-md-6">
                <p:password value ="#{controlAutorizacion.pass2}" id="inputPassword2" match ="inputPassword" required="false"/>
                <br/>
                <h:message for="pwd2"/>
            </div>
            <!-->
        </div>
        <c:if test="#{controlAutorizacion.comprobarRol() == 4}">
            <div class="col-md-6">
                <h:outputText value="Tipo de usuario: " />
            </div>
            <div class="col-md-6">
                <h:selectOneMenu class="form-control" value="#{controlAutorizacion.rol}">
                    <f:selectItem itemValue="0" itemLabel="Cliente" />
                    <f:selectItem itemValue="1" itemLabel="Call-Center" />
                    <f:selectItem itemValue="2" itemLabel="Supervisor" />
                    <f:selectItem itemValue="3" itemLabel="Operario" />
                    <f:selectItem itemValue="4" itemLabel="Administrador" />
                </h:selectOneMenu>
                <br/>
            </div>
        </c:if>
        <p:separator />
    </ui:define>


    <ui:define name="campos-pestaña2">
        <div class="row">
            <div class="col-md-6">
                <h:outputText value="DNI: " />
            </div>
            <div class="col-md-6">
                <p:inputText class="campo" value="#{controlAutorizacion.dni}" />
                <br/>
            </div>
            <div class="col-md-6">
                <h:outputText value="Nombre: " />
            </div>
            <div class="col-md-6">
                <p:inputText value="#{controlAutorizacion.nombre}"/>
                <br/>
            </div>
            <div class="col-md-6">
                <h:outputText value="Apellidos: " />
            </div>
            <div class="col-md-6">
                <p:inputText value="#{controlAutorizacion.apellidos}" />                                    
                <br/>
            </div>
            <div class="col-md-6">
                <h:outputText value="Sexo: " />
            </div>
            <div class="col-md-6">
                <h:selectOneMenu class="form-control" value="#{controlAutorizacion.sexo}">
                    <f:selectItem itemValue="Hombre" itemLabel="Hombre" />
                    <f:selectItem itemValue="Mujer" itemLabel="Mujer" />
                </h:selectOneMenu>                   
                <br/>
            </div>
            <div class="col-md-6">
                <h:outputText value="Teléfono: " />
            </div>
            <div class="col-md-6">
                <p:inputText value="#{controlAutorizacion.telefono}" />
                <br/>
            </div>
            <div class="col-md-6">
                <h:outputText value="Dirección: " />
            </div>
            <div class="col-md-6">
                <p:inputText value="#{controlAutorizacion.direccion}" />
                <br/>
            </div>
        </div>
        <p:separator />
    </ui:define>
    <ui:define name="campos-pestaña3">
        <div class="row">
            <div class="col-md-6">
                <h:outputText value="Zona Cargo: " />
            </div>
            <div class="col-md-6">
                <p:inputText value="#{controlAutorizacion.zonaCargo}" />
                <br/>
            </div>
            <div class="col-md-6">
                <h:outputText value="Tipo: " />
            </div>
            <div class="col-md-6">
                <p:inputText value="#{controlAutorizacion.tipo}" />
                <br/>
            </div>
            <div class="col-md-6">
                <h:outputText value="Especialización: " />
            </div>
            <div class="col-md-6">
                <p:inputText value="#{controlAutorizacion.especializacion}"/>
                <br/>
            </div>
            <div class="col-md-6">
                <h:outputText value="Disponibilidad: " />
            </div>
            <div class="col-md-6">
                <p:selectBooleanCheckbox value="#{controlAutorizacion.disponibilidad}" />
                <br/>
            </div>
        </div>
        <p:separator />
    </ui:define>



    <ui:define name="btn_confirmar">
        <h:commandButton action="#{controlAutorizacion.update()}" value="Confirmar" class="btn-primary"/>
    </ui:define>

    <ui:define name="btn_cancelar">
        <h:commandButton action="#{controlAutorizacion.home()}" immediate="true" value="Cancelar" class="btn-danger"/>
    </ui:define>

    <ui:define name="btn_limpiar">
        <h:commandButton action="#{controlAutorizacion.modUser()}" immediate="true" value="Cancelar" class="btn-warning"/>
    </ui:define>

</ui:composition>